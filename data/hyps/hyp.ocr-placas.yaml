# Hiperparâmetros para OCR de caracteres de placa (0–9, A–Z sem O)
# Ajustado para RTX 3050 6GB com batch ~8 e imgsz 640

# ---- Otimizador / agendamento ----
# Regra prática: escale lr0 ~ linearmente com o batch relativo a 64.
# Ex.: batch=8  -> lr0 ≈ 0.01 * (8/64)  = 0.00125  (usado abaixo)
#      batch=10 -> lr0 ≈ 0.01 * (10/64) = 0.0015625
#      batch=12 -> lr0 ≈ 0.01 * (12/64) = 0.001875
lr0: 0.00125         # para batch 8
lrf: 0.0005          # taxa final menor (decai mais devagar — útil em 200+ épocas)
momentum: 0.94
weight_decay: 0.0004
warmup_epochs: 4.0
warmup_momentum: 0.85
warmup_bias_lr: 0.1

# ---- Pesos da perda ----
box: 8.0             # um pouco mais alto: caracteres pequenos → caixas mais sensíveis
cls: 1.0             # reforça diferenciação entre letras/números
cls_pw: 1.0
obj: 1.3             # > recall para objetos pequenos
obj_pw: 1.0
dfl: 1.5
iou_t: 0.25
anchor_t: 5.0
fl_gamma: 0.0

# ---- Augmentação fotométrica (mais leve p/ placas) ----
hsv_h: 0.015
hsv_s: 0.5
hsv_v: 0.3
degrees: 2.0
translate: 0.07
scale: 0.4           # variação mais controlada (sem deformar placas)
shear: 0.0
perspective: 0.0005
flipud: 0.0
fliplr: 0.0

# ---- Espelhamentos ----
flipud: 0.0       # não faz sentido inverter verticalmente
fliplr: 0.0       # NÃO espelhar horizontalmente (deforma P/R, etc.)

# ---- Composições ----
mosaic: 0.45         # mantém generalização, mas sem artefatos exagerados
mixup: 0.03          # baixa sobreposição, boa p/ texto
copy_paste: 0.0
